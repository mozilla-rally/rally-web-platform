import{S as D,i as E,s as x,M as B,e as I,j as d,k as b,c as M,a as q,m as _,n as y,d as u,b as L,f as $,o as h,J as S,P as Y,x as g,u as w,v,D as k,ar as G,A as J,aG as K,t as O,g as P,au as R,K as U,L as V}from"../../chunks/vendor-590b911b.js";import{g as T}from"../../chunks/navigation-2ffed81e.js";import{C as X}from"../../chunks/Content-5902ff7f.js";import{B as z}from"../../chunks/Button-14e92cee.js";/* empty css                                                                       */import"../../chunks/singletons-12a22614.js";const{window:A}=K;function F(r){let n;return{c(){n=O("Accept & Enroll")},l(e){n=P(e,"Accept & Enroll")},m(e,l){$(e,n,l)},d(e){e&&u(n)}}}function H(r){let n;return{c(){n=O("Decline")},l(e){n=P(e,"Decline")},m(e,l){$(e,n,l)},d(e){e&&u(n)}}}function N(r){let n=!1,e=()=>{n=!1},l,s,a,t,o,f,m,p;return B(r[3]),a=new z({props:{btnID:"accept",size:"xl",product:!0,$$slots:{default:[F]},$$scope:{ctx:r}}}),a.$on("click",r[4]),o=new z({props:{size:"xl",product:!0,secondary:!0,btnID:"decline",$$slots:{default:[H]},$$scope:{ctx:r}}}),o.$on("click",r[5]),{c(){s=I("div"),d(a.$$.fragment),t=b(),d(o.$$.fragment),this.h()},l(c){s=M(c,"DIV",{class:!0});var i=q(s);_(a.$$.fragment,i),t=y(i),_(o.$$.fragment,i),i.forEach(u),this.h()},h(){L(s,"class","cta-wrapper")},m(c,i){$(c,s,i),h(a,s,null),S(s,t),h(o,s,null),f=!0,m||(p=Y(A,"scroll",()=>{n=!0,clearTimeout(l),l=setTimeout(e,100),r[3]()}),m=!0)},p(c,[i]){i&1&&!n&&(n=!0,clearTimeout(l),scrollTo(A.pageXOffset,c[0]),l=setTimeout(e,100));const C={};i&512&&(C.$$scope={dirty:i,ctx:c}),a.$set(C);const j={};i&512&&(j.$$scope={dirty:i,ctx:c}),o.$set(j)},i(c){f||(g(a.$$.fragment,c),g(o.$$.fragment,c),f=!0)},o(c){w(a.$$.fragment,c),w(o.$$.fragment,c),f=!1},d(c){c&&u(s),v(a),v(o),m=!1,p()}}}function Q(r,n,e){const l=k("rally:store"),s=G();let a;J(async()=>{window&&(a=window.location)});let t=0;const o=async()=>{await l.signOutUser(),T("/signup"),a.reload()};function f(){e(0,t=A.pageYOffset)}const m=()=>s("accept"),p=()=>{o()};return r.$$.update=()=>{r.$$.dirty&1},[t,s,o,f,m,p]}class W extends D{constructor(n){super();E(this,n,Q,N,x,{})}}function Z(r){let n,e,l,s,a;return e=new X({}),s=new W({}),s.$on("accept",r[3]),{c(){n=b(),d(e.$$.fragment),l=b(),d(s.$$.fragment),this.h()},l(t){R('[data-svelte="svelte-1swidnv"]',document.head).forEach(u),n=y(t),_(e.$$.fragment,t),l=y(t),_(s.$$.fragment,t),this.h()},h(){document.title="Privacy Policy | Mozilla Rally"},m(t,o){$(t,n,o),h(e,t,o),$(t,l,o),h(s,t,o),a=!0},p:U,i(t){a||(g(e.$$.fragment,t),g(s.$$.fragment,t),a=!0)},o(t){w(e.$$.fragment,t),w(s.$$.fragment,t),a=!1},d(t){t&&u(n),v(e,t),t&&u(l),v(s,t)}}}function tt(r,n,e){let l;const s=k("rally:store"),a=k("rally:isAuthenticated");V(r,a,o=>e(2,l=o));const t=async()=>{await s.updatePlatformEnrollment(!0),T("/welcome/profile")};return r.$$.update=()=>{r.$$.dirty&4&&l===!1&&T("/signup")},[s,a,l,t]}class lt extends D{constructor(n){super();E(this,n,tt,Z,x,{})}}export{lt as default};
