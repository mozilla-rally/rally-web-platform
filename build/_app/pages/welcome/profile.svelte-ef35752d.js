import{S as M,i as N,s as P,Y as k,Z as y,a as $,d as _,b as d,f as v,J as h,M as j,N as U,aD as J,O as Y,aE as L,j as A,m as T,o as R,P as W,x as g,u as w,v as S,ar as nt,e as z,t as O,k as D,c as q,g as G,n as F,_ as at,W as X,aF as H,r as K,w as Q,ay as lt,l as x,au as it,D as tt,L as et,T as ft,aA as ut}from"../../chunks/vendor-fb0c71c8.js";import{g as I}from"../../chunks/navigation-2ffed81e.js";import{C as ct}from"../../chunks/Content-d70f3d22.js";import{C as dt}from"../../chunks/CallToActionContainer-7a2f380b.js";import{B as rt}from"../../chunks/Button-425393b0.js";import"../../chunks/singletons-12a22614.js";import"../../chunks/survey-schema-0711fa1d.js";function pt(l){let t,s,a,e,i,u,n,r,c,o,f,p,b,C;return{c(){t=k("svg"),s=k("path"),i=k("g"),u=k("path"),c=k("defs"),o=k("linearGradient"),f=k("stop"),p=k("stop"),b=k("stop"),this.h()},l(m){t=y(m,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var E=$(t);s=y(E,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),$(s).forEach(_),i=y(E,"g",{});var V=$(i);u=y(V,"path",{d:!0,fill:!0}),$(u).forEach(_),V.forEach(_),c=y(E,"defs",{});var Z=$(c);o=y(Z,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var B=$(o);f=y(B,"stop",{"stop-color":!0}),$(f).forEach(_),p=y(B,"stop",{offset:!0,"stop-color":!0}),$(p).forEach(_),b=y(B,"stop",{offset:!0,"stop-color":!0}),$(b).forEach(_),B.forEach(_),Z.forEach(_),E.forEach(_),this.h()},h(){d(s,"d","M1 127.619C21.591 127.619 45.2219 104 48 86.6193C50.7781 69.2386 49 52.5 37 52.5C25 52.5 24.5 64.7377 39 67.5C53.5 70.2623 90 42.8807 21 6"),d(s,"stroke","url(#paint0_linear)"),d(s,"stroke-width","2"),d(s,"stroke-linecap","round"),d(u,"d","M16.7936 6.80449C16.2329 5.50077 15.0019 2.53349 15.5375 1.87833C16.1876 1.08304 17.9814 1.6468 20.0777 2.08646C21.8484 2.45783 24.5709 2.9662 24.3878 4.0835C24.2626 4.84797 21.9746 4.79424 20.8596 6.12262C20.0794 7.05222 19.8038 9.26208 19.0255 9.56392C18.2472 9.86577 17.3544 8.10822 16.7936 6.80449Z"),d(u,"fill","#F53A68"),d(f,"stop-color","#FF9100"),d(p,"offset","0.489583"),d(p,"stop-color","#F10366"),d(b,"offset","1"),d(b,"stop-color","#6173FF"),d(o,"id","paint0_linear"),d(o,"x1","50.7846"),d(o,"y1","-43.3675"),d(o,"x2","-35.6052"),d(o,"y2","104.653"),d(o,"gradientUnits","userSpaceOnUse"),d(t,"width","63"),d(t,"height","129"),d(t,"viewBox","0 0 63 129"),d(t,"fill","none"),d(t,"xmlns","http://www.w3.org/2000/svg")},m(m,E){v(m,t,E),h(t,s),h(t,i),h(i,u),h(t,c),h(c,o),h(o,f),h(o,p),h(o,b),C=!0},p(m,[E]){l=m},i(m){C||(j(()=>{e&&e.end(1),a=U(s,J,{duration:1e3,delay:l[0]}),a.start()}),j(()=>{r&&r.end(1),n=U(i,Y,{x:10,y:5,delay:800+l[0],opacity:0}),n.start()}),C=!0)},o(m){a&&a.invalidate(),m&&(e=L(s,J,{duration:500,delay:l[0]})),n&&n.invalidate(),m&&(r=L(i,Y,{duration:350,delay:l[0],x:20,y:10})),C=!1},d(m){m&&_(t),m&&e&&e.end(),m&&r&&r.end()}}}function _t(l,t,s){let{delay:a=0}=t;return l.$$set=e=>{"delay"in e&&s(0,a=e.delay)},[a]}class mt extends M{constructor(t){super();N(this,t,_t,pt,P,{delay:0})}}function ht(l){let t;return{c(){t=O("Save & Continue")},l(s){t=G(s,"Save & Continue")},m(s,a){v(s,t,a)},d(s){s&&_(t)}}}function $t(l){let t;return{c(){t=O("Skip for Now")},l(s){t=G(s,"Skip for Now")},m(s,a){v(s,t,a)},d(s){s&&_(t)}}}function ot(l){let t,s,a,e,i,u,n,r,c;return r=new mt({}),{c(){t=z("div"),s=O("the following 7"),a=z("br"),e=O(" questions are optional"),u=D(),n=z("div"),A(r.$$.fragment),this.h()},l(o){t=q(o,"DIV",{class:!0,style:!0});var f=$(t);s=G(f,"the following 7"),a=q(f,"BR",{}),e=G(f," questions are optional"),f.forEach(_),u=F(o),n=q(o,"DIV",{class:!0});var p=$(n);T(r.$$.fragment,p),p.forEach(_),this.h()},h(){d(t,"class","shortcut-callout"),at(t,"text-align","right"),d(n,"class","arrow svelte-9618m3")},m(o,f){v(o,t,f),h(t,s),h(t,a),h(t,e),v(o,u,f),v(o,n,f),R(r,n,null),c=!0},i(o){c||(o&&j(()=>{i||(i=X(t,H,{duration:400},!0)),i.run(1)}),g(r.$$.fragment,o),c=!0)},o(o){o&&(i||(i=X(t,H,{duration:400},!1)),i.run(0)),w(r.$$.fragment,o),c=!1},d(o){o&&_(t),o&&i&&i.end(),o&&_(u),o&&_(n),S(r)}}}function gt(l){let t,s,a,e,i,u,n,r,c;s=new rt({props:{size:"xl",product:!0,$$slots:{default:[ht]},$$scope:{ctx:l}}}),s.$on("click",l[5]),e=new rt({props:{size:"xl",product:!0,secondary:!0,$$slots:{default:[$t]},$$scope:{ctx:l}}}),e.$on("click",l[6]);let o=l[1]&&l[2]&&ot();return{c(){t=z("div"),A(s.$$.fragment),a=D(),A(e.$$.fragment),i=D(),o&&o.c(),this.h()},l(f){t=q(f,"DIV",{class:!0});var p=$(t);T(s.$$.fragment,p),a=F(p),T(e.$$.fragment,p),i=F(p),o&&o.l(p),p.forEach(_),this.h()},h(){d(t,"class","call-flow svelte-9618m3")},m(f,p){v(f,t,p),R(s,t,null),h(t,a),R(e,t,null),h(t,i),o&&o.m(t,null),n=!0,r||(c=W(t,"introend",l[7]),r=!0)},p(f,p){const b={};p&256&&(b.$$scope={dirty:p,ctx:f}),s.$set(b);const C={};p&256&&(C.$$scope={dirty:p,ctx:f}),e.$set(C),f[1]&&f[2]?o?p&6&&g(o,1):(o=ot(),o.c(),g(o,1),o.m(t,null)):o&&(K(),w(o,1,1,()=>{o=null}),Q())},i(f){n||(g(s.$$.fragment,f),g(e.$$.fragment,f),g(o),u||j(()=>{u=U(t,Y,{duration:200,y:5}),u.start()}),n=!0)},o(f){w(s.$$.fragment,f),w(e.$$.fragment,f),w(o),n=!1},d(f){f&&_(t),S(s),S(e),o&&o.d(),r=!1,c()}}}function vt(l){let t=!1,s=()=>{t=!1},a,e,i,u,n;return j(l[4]),e=new dt({props:{$$slots:{default:[gt]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(r){T(e.$$.fragment,r)},m(r,c){R(e,r,c),i=!0,u||(n=W(window,"scroll",()=>{t=!0,clearTimeout(a),a=setTimeout(s,100),l[4]()}),u=!0)},p(r,[c]){c&1&&!t&&(t=!0,clearTimeout(a),scrollTo(window.pageXOffset,r[0]),a=setTimeout(s,100));const o={};c&262&&(o.$$scope={dirty:c,ctx:r}),e.$set(o)},i(r){i||(g(e.$$.fragment,r),i=!0)},o(r){w(e.$$.fragment,r),i=!1},d(r){S(e,r),u=!1,n()}}}function wt(l,t,s){const a=nt();let e=0,i=!0,u=!1;function n(){s(0,e=window.pageYOffset)}const r=()=>a("save"),c=()=>a("skip"),o=()=>{s(2,u=!0)};return l.$$.update=()=>{l.$$.dirty&1&&(e>20?s(1,i=!1):s(1,i=!0))},[e,i,u,a,n,r,c,o]}class bt extends M{constructor(t){super();N(this,t,wt,vt,P,{})}}function st(l){let t,s,a,e,i;function u(r){l[7](r)}let n={};return l[1]!==void 0&&(n.formattedResults=l[1]),t=new ct({props:n}),ft.push(()=>ut(t,"formattedResults",u)),e=new bt({}),e.$on("save",l[4](!0)),e.$on("skip",l[4](!1)),{c(){A(t.$$.fragment),a=D(),A(e.$$.fragment)},l(r){T(t.$$.fragment,r),a=F(r),T(e.$$.fragment,r)},m(r,c){R(t,r,c),v(r,a,c),R(e,r,c),i=!0},p(r,c){const o={};!s&&c&2&&(s=!0,o.formattedResults=r[1],lt(()=>s=!1)),t.$set(o)},i(r){i||(g(t.$$.fragment,r),g(e.$$.fragment,r),i=!0)},o(r){w(t.$$.fragment,r),w(e.$$.fragment,r),i=!1},d(r){S(t,r),r&&_(a),S(e,r)}}}function kt(l){var i,u;let t,s,a,e=l[0]._initialized&&!((u=(i=l[0])==null?void 0:i.user)==null?void 0:u.onboarded)&&st(l);return{c(){t=D(),e&&e.c(),s=x(),this.h()},l(n){it('[data-svelte="svelte-19tu7ba"]',document.head).forEach(_),t=F(n),e&&e.l(n),s=x(),this.h()},h(){document.title="Tell Us About Yourself | Mozilla Rally"},m(n,r){v(n,t,r),e&&e.m(n,r),v(n,s,r),a=!0},p(n,[r]){var c,o;n[0]._initialized&&!((o=(c=n[0])==null?void 0:c.user)==null?void 0:o.onboarded)?e?(e.p(n,r),r&1&&g(e,1)):(e=st(n),e.c(),g(e,1),e.m(s.parentNode,s)):e&&(K(),w(e,1,1,()=>{e=null}),Q())},i(n){a||(g(e),a=!0)},o(n){w(e),a=!1},d(n){n&&_(t),e&&e.d(n),n&&_(s)}}}function yt(l,t,s){let a,e;var i;const u=tt("rally:store");et(l,u,f=>s(0,a=f));const n=tt("rally:isAuthenticated");et(l,n,f=>s(6,e=f));let r;function c(f=!1){return async()=>{f&&await u.updateDemographicSurvey(r),await u.updateOnboardedStatus(!0),I("/studies")}}function o(f){r=f,s(1,r)}return l.$$.update=()=>{l.$$.dirty&97&&(e===!1?I("/signup"):e===!0&&(s(5,i=a==null?void 0:a.user)===null||i===void 0?void 0:i.onboarded)&&I("/studies"))},[a,r,u,n,c,i,e,o]}class Dt extends M{constructor(t){super();N(this,t,yt,kt,P,{})}}export{Dt as default};
