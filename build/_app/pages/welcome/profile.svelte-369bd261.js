import{S as I,i as M,s as N,X as k,Y as y,a as $,d as _,b as d,f as v,I as h,M as j,N as U,ay as Z,O as V,T as J,j as A,m as T,o as R,R as K,x as g,u as w,v as S,K as nt,e as F,t as O,k as z,c as q,g as G,n as B,Z as at,V as H,az as L,r as Q,w as W,as as it,l as x,ao as lt,D as tt,J as et,au as ut,av as ft}from"../../chunks/vendor-50ac03a8.js";import{g as Y}from"../../chunks/navigation-2ffed81e.js";import{C as ct}from"../../chunks/Content-9e1b3847.js";import{C as dt}from"../../chunks/CallToActionContainer-81532c3c.js";import{B as rt}from"../../chunks/Button-852b4255.js";import"../../chunks/singletons-12a22614.js";import"../../chunks/survey-schema-0711fa1d.js";function pt(i){let t,s,a,e,l,f,n,r,c,o,u,p,b,C;return{c(){t=k("svg"),s=k("path"),l=k("g"),f=k("path"),c=k("defs"),o=k("linearGradient"),u=k("stop"),p=k("stop"),b=k("stop"),this.h()},l(m){t=y(m,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var E=$(t);s=y(E,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),$(s).forEach(_),l=y(E,"g",{});var P=$(l);f=y(P,"path",{d:!0,fill:!0}),$(f).forEach(_),P.forEach(_),c=y(E,"defs",{});var X=$(c);o=y(X,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,gradientUnits:!0});var D=$(o);u=y(D,"stop",{"stop-color":!0}),$(u).forEach(_),p=y(D,"stop",{offset:!0,"stop-color":!0}),$(p).forEach(_),b=y(D,"stop",{offset:!0,"stop-color":!0}),$(b).forEach(_),D.forEach(_),X.forEach(_),E.forEach(_),this.h()},h(){d(s,"d","M1 127.619C21.591 127.619 45.2219 104 48 86.6193C50.7781 69.2386 49 52.5 37 52.5C25 52.5 24.5 64.7377 39 67.5C53.5 70.2623 90 42.8807 21 6"),d(s,"stroke","url(#paint0_linear)"),d(s,"stroke-width","2"),d(s,"stroke-linecap","round"),d(f,"d","M16.7936 6.80449C16.2329 5.50077 15.0019 2.53349 15.5375 1.87833C16.1876 1.08304 17.9814 1.6468 20.0777 2.08646C21.8484 2.45783 24.5709 2.9662 24.3878 4.0835C24.2626 4.84797 21.9746 4.79424 20.8596 6.12262C20.0794 7.05222 19.8038 9.26208 19.0255 9.56392C18.2472 9.86577 17.3544 8.10822 16.7936 6.80449Z"),d(f,"fill","#F53A68"),d(u,"stop-color","#FF9100"),d(p,"offset","0.489583"),d(p,"stop-color","#F10366"),d(b,"offset","1"),d(b,"stop-color","#6173FF"),d(o,"id","paint0_linear"),d(o,"x1","50.7846"),d(o,"y1","-43.3675"),d(o,"x2","-35.6052"),d(o,"y2","104.653"),d(o,"gradientUnits","userSpaceOnUse"),d(t,"width","63"),d(t,"height","129"),d(t,"viewBox","0 0 63 129"),d(t,"fill","none"),d(t,"xmlns","http://www.w3.org/2000/svg")},m(m,E){v(m,t,E),h(t,s),h(t,l),h(l,f),h(t,c),h(c,o),h(o,u),h(o,p),h(o,b),C=!0},p(m,[E]){i=m},i(m){C||(j(()=>{e&&e.end(1),a=U(s,Z,{duration:1e3,delay:i[0]}),a.start()}),j(()=>{r&&r.end(1),n=U(l,V,{x:10,y:5,delay:800+i[0],opacity:0}),n.start()}),C=!0)},o(m){a&&a.invalidate(),m&&(e=J(s,Z,{duration:500,delay:i[0]})),n&&n.invalidate(),m&&(r=J(l,V,{duration:350,delay:i[0],x:20,y:10})),C=!1},d(m){m&&_(t),m&&e&&e.end(),m&&r&&r.end()}}}function _t(i,t,s){let{delay:a=0}=t;return i.$$set=e=>{"delay"in e&&s(0,a=e.delay)},[a]}class mt extends I{constructor(t){super();M(this,t,_t,pt,N,{delay:0})}}function ht(i){let t;return{c(){t=O("Save & Continue")},l(s){t=G(s,"Save & Continue")},m(s,a){v(s,t,a)},d(s){s&&_(t)}}}function $t(i){let t;return{c(){t=O("Skip for Now")},l(s){t=G(s,"Skip for Now")},m(s,a){v(s,t,a)},d(s){s&&_(t)}}}function ot(i){let t,s,a,e,l,f,n,r,c;return r=new mt({}),{c(){t=F("div"),s=O("the following 7"),a=F("br"),e=O(" questions are optional"),f=z(),n=F("div"),A(r.$$.fragment),this.h()},l(o){t=q(o,"DIV",{class:!0,style:!0});var u=$(t);s=G(u,"the following 7"),a=q(u,"BR",{}),e=G(u," questions are optional"),u.forEach(_),f=B(o),n=q(o,"DIV",{class:!0});var p=$(n);T(r.$$.fragment,p),p.forEach(_),this.h()},h(){d(t,"class","shortcut-callout"),at(t,"text-align","right"),d(n,"class","arrow svelte-9618m3")},m(o,u){v(o,t,u),h(t,s),h(t,a),h(t,e),v(o,f,u),v(o,n,u),R(r,n,null),c=!0},i(o){c||(o&&j(()=>{l||(l=H(t,L,{duration:400},!0)),l.run(1)}),g(r.$$.fragment,o),c=!0)},o(o){o&&(l||(l=H(t,L,{duration:400},!1)),l.run(0)),w(r.$$.fragment,o),c=!1},d(o){o&&_(t),o&&l&&l.end(),o&&_(f),o&&_(n),S(r)}}}function gt(i){let t,s,a,e,l,f,n,r,c;s=new rt({props:{size:"xl",product:!0,$$slots:{default:[ht]},$$scope:{ctx:i}}}),s.$on("click",i[5]),e=new rt({props:{size:"xl",product:!0,secondary:!0,$$slots:{default:[$t]},$$scope:{ctx:i}}}),e.$on("click",i[6]);let o=i[1]&&i[2]&&ot();return{c(){t=F("div"),A(s.$$.fragment),a=z(),A(e.$$.fragment),l=z(),o&&o.c(),this.h()},l(u){t=q(u,"DIV",{class:!0});var p=$(t);T(s.$$.fragment,p),a=B(p),T(e.$$.fragment,p),l=B(p),o&&o.l(p),p.forEach(_),this.h()},h(){d(t,"class","call-flow svelte-9618m3")},m(u,p){v(u,t,p),R(s,t,null),h(t,a),R(e,t,null),h(t,l),o&&o.m(t,null),n=!0,r||(c=K(t,"introend",i[7]),r=!0)},p(u,p){const b={};p&256&&(b.$$scope={dirty:p,ctx:u}),s.$set(b);const C={};p&256&&(C.$$scope={dirty:p,ctx:u}),e.$set(C),u[1]&&u[2]?o?p&6&&g(o,1):(o=ot(),o.c(),g(o,1),o.m(t,null)):o&&(Q(),w(o,1,1,()=>{o=null}),W())},i(u){n||(g(s.$$.fragment,u),g(e.$$.fragment,u),g(o),f||j(()=>{f=U(t,V,{duration:200,y:5}),f.start()}),n=!0)},o(u){w(s.$$.fragment,u),w(e.$$.fragment,u),w(o),n=!1},d(u){u&&_(t),S(s),S(e),o&&o.d(),r=!1,c()}}}function vt(i){let t=!1,s=()=>{t=!1},a,e,l,f,n;return j(i[4]),e=new dt({props:{$$slots:{default:[gt]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},l(r){T(e.$$.fragment,r)},m(r,c){R(e,r,c),l=!0,f||(n=K(window,"scroll",()=>{t=!0,clearTimeout(a),a=setTimeout(s,100),i[4]()}),f=!0)},p(r,[c]){c&1&&!t&&(t=!0,clearTimeout(a),scrollTo(window.pageXOffset,r[0]),a=setTimeout(s,100));const o={};c&262&&(o.$$scope={dirty:c,ctx:r}),e.$set(o)},i(r){l||(g(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){S(e,r),f=!1,n()}}}function wt(i,t,s){const a=nt();let e=0,l=!0,f=!1;function n(){s(0,e=window.pageYOffset)}const r=()=>a("save"),c=()=>a("skip"),o=()=>{s(2,f=!0)};return i.$$.update=()=>{i.$$.dirty&1&&(e>20?s(1,l=!1):s(1,l=!0))},[e,l,f,a,n,r,c,o]}class bt extends I{constructor(t){super();M(this,t,wt,vt,N,{})}}function st(i){let t,s,a,e,l;function f(r){i[7](r)}let n={};return i[1]!==void 0&&(n.formattedResults=i[1]),t=new ct({props:n}),ut.push(()=>ft(t,"formattedResults",f)),e=new bt({}),e.$on("save",i[4](!0)),e.$on("skip",i[4](!1)),{c(){A(t.$$.fragment),a=z(),A(e.$$.fragment)},l(r){T(t.$$.fragment,r),a=B(r),T(e.$$.fragment,r)},m(r,c){R(t,r,c),v(r,a,c),R(e,r,c),l=!0},p(r,c){const o={};!s&&c&2&&(s=!0,o.formattedResults=r[1],it(()=>s=!1)),t.$set(o)},i(r){l||(g(t.$$.fragment,r),g(e.$$.fragment,r),l=!0)},o(r){w(t.$$.fragment,r),w(e.$$.fragment,r),l=!1},d(r){S(t,r),r&&_(a),S(e,r)}}}function kt(i){var l,f;let t,s,a,e=i[0]._initialized&&!((f=(l=i[0])==null?void 0:l.user)==null?void 0:f.onboarded)&&st(i);return{c(){t=z(),e&&e.c(),s=x(),this.h()},l(n){lt('[data-svelte="svelte-19tu7ba"]',document.head).forEach(_),t=B(n),e&&e.l(n),s=x(),this.h()},h(){document.title="Tell Us About Yourself | Mozilla Rally"},m(n,r){v(n,t,r),e&&e.m(n,r),v(n,s,r),a=!0},p(n,[r]){var c,o;n[0]._initialized&&!((o=(c=n[0])==null?void 0:c.user)==null?void 0:o.onboarded)?e?(e.p(n,r),r&1&&g(e,1)):(e=st(n),e.c(),g(e,1),e.m(s.parentNode,s)):e&&(Q(),w(e,1,1,()=>{e=null}),W())},i(n){a||(g(e),a=!0)},o(n){w(e),a=!1},d(n){n&&_(t),e&&e.d(n),n&&_(s)}}}function yt(i,t,s){let a,e;var l;const f=tt("rally:store");et(i,f,u=>s(0,a=u));const n=tt("rally:isAuthenticated");et(i,n,u=>s(6,e=u));let r;function c(u=!1){return async()=>{u&&await f.updateDemographicSurvey(r),await await f.updateOnboardedStatus(!0),Y("/studies")}}function o(u){r=u,s(1,r)}return i.$$.update=()=>{i.$$.dirty&97&&(e===!1?Y("/signup"):e===!0&&(s(5,l=a==null?void 0:a.user)===null||l===void 0?void 0:l.onboarded)&&Y("/studies"))},[a,r,f,n,c,l,e,o]}class zt extends I{constructor(t){super();M(this,t,yt,kt,N,{})}}export{zt as default};
