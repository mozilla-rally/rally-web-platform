import{S as Je,i as Ze,s as Ke,e as r,k as w,t as C,j as Qe,c as i,a as m,d as o,n as E,g as G,m as Xe,L as Oe,b as t,Z as _,a2 as je,f as ke,I as e,ay as ie,o as Ye,R as P,M as Be,x as xe,u as $e,v as et,_ as tt,D as st,J as lt,N as We,as as qe,az as Ce,P as Ge,O as Fe}from"../../chunks/vendor-dcea556b.js";import{g as He}from"../../chunks/navigation-2ffed81e.js";import{E as at}from"../../chunks/ExternalLink-2f454de8.js";import"../../chunks/singletons-12a22614.js";function rt(l){let a,s,n;return{c(){a=r("i"),this.h()},l(c){a=i(c,"I",{class:!0,id:!0}),m(a).forEach(o),this.h()},h(){t(a,"class","fas fa-eye togglePassword svelte-1mcymtk"),t(a,"id","show-eye")},m(c,z){ke(c,a,z),s||(n=P(a,"click",Ce(l[8])),s=!0)},p:Ge,d(c){c&&o(a),s=!1,n()}}}function it(l){let a,s,n;return{c(){a=r("i"),this.h()},l(c){a=i(c,"I",{class:!0,id:!0}),m(a).forEach(o),this.h()},h(){t(a,"class","fas fa-eye-slash togglePassword svelte-1mcymtk"),t(a,"id","hide-eye")},m(c,z){ke(c,a,z),s||(n=P(a,"click",Ce(l[8])),s=!0)},p:Ge,d(c){c&&o(a),s=!1,n()}}}function ot(l){let a,s,n,c,z,R,S,v,U,b,T,d,L,$,Q,D,X,Y,M,V,A,O,f,x,h,oe,y,F,ne,ce,p,ue,ee,H,de,te,me,W,j,pe,fe,B,he,_e,K,N,ge,J,ve,Z,ye,Ee;function ze(u,k){return u[4]?it:rt}let se=ze(l),I=se(l);return J=new at({}),{c(){a=r("section"),s=r("div"),n=r("h2"),c=r("img"),S=w(),v=r("p"),U=C("This is a feasibility spike exploring a web-based Rally user experience."),b=w(),T=r("div"),d=r("button"),L=r("img"),Q=w(),D=r("div"),X=C("or create a Rally account"),Y=w(),M=r("form"),V=r("fieldset"),A=r("div"),O=r("label"),f=C("Email"),x=w(),h=r("input"),oe=w(),y=r("div"),F=r("label"),ne=C("Password"),ce=w(),p=r("input"),ue=w(),I.c(),ee=w(),H=r("p"),de=C("Please choose a password that is at least 8 characters"),me=w(),W=r("div"),j=r("button"),pe=C("Log In"),fe=w(),B=r("button"),he=C("Sign Up"),_e=w(),K=r("div"),N=r("a"),ge=C(`Wait \u2013 how does it work again?
        `),Qe(J.$$.fragment),this.h()},l(u){a=i(u,"SECTION",{class:!0});var k=m(a);s=i(k,"DIV",{class:!0});var g=m(s);n=i(g,"H2",{class:!0});var Ie=m(n);c=i(Ie,"IMG",{src:!0,alt:!0}),Ie.forEach(o),S=E(g),v=i(g,"P",{class:!0,style:!0});var Pe=m(v);U=G(Pe,"This is a feasibility spike exploring a web-based Rally user experience."),Pe.forEach(o),b=E(g),T=i(g,"DIV",{style:!0});var Te=m(T);d=i(Te,"BUTTON",{style:!0});var Le=m(d);L=i(Le,"IMG",{src:!0,alt:!0}),Le.forEach(o),Te.forEach(o),Q=E(g),D=i(g,"DIV",{class:!0,style:!0});var De=m(D);X=G(De,"or create a Rally account"),De.forEach(o),Y=E(g),M=i(g,"FORM",{method:!0,class:!0});var Ve=m(M);V=i(Ve,"FIELDSET",{class:!0});var le=m(V);A=i(le,"DIV",{class:!0});var ae=m(A);O=i(ae,"LABEL",{class:!0,for:!0});var Ae=m(O);f=G(Ae,"Email"),Ae.forEach(o),x=E(ae),h=i(ae,"INPUT",{class:!0,id:!0,name:!0,type:!0}),ae.forEach(o),oe=E(le),y=i(le,"DIV",{class:!0});var q=m(y);F=i(q,"LABEL",{class:!0,for:!0});var Ne=m(F);ne=G(Ne,"Password"),Ne.forEach(o),ce=E(q),p=i(q,"INPUT",{class:!0,id:!0,name:!0,type:!0,min:!0}),ue=E(q),I.l(q),ee=E(q),H=i(q,"P",{class:!0});var Re=m(H);de=G(Re,"Please choose a password that is at least 8 characters"),Re.forEach(o),q.forEach(o),le.forEach(o),Ve.forEach(o),me=E(g),W=i(g,"DIV",{class:!0});var re=m(W);j=i(re,"BUTTON",{class:!0});var Se=m(j);pe=G(Se,"Log In"),Se.forEach(o),fe=E(re),B=i(re,"BUTTON",{class:!0});var Ue=m(B);he=G(Ue,"Sign Up"),Ue.forEach(o),re.forEach(o),_e=E(g),K=i(g,"DIV",{class:!0});var Me=m(K);N=i(Me,"A",{class:!0,target:!0,rel:!0,href:!0});var be=m(N);ge=G(be,`Wait \u2013 how does it work again?
        `),Xe(J.$$.fragment,be),be.forEach(o),Me.forEach(o),g.forEach(o),k.forEach(o),this.h()},h(){Oe(c.src,z="img/logo-wide.svg")||t(c,"src",z),t(c,"alt","Mozilla Rally Logo"),t(n,"class","mzp-c-call-out-title mzp-has-zap-1 svelte-1mcymtk"),t(v,"class","mzp-c-call-out-desc"),_(v,"color","var(--color-marketing-gray-70)"),Oe(L.src,$="img/google-signin.png")||t(L,"src",$),t(L,"alt","google signin"),_(d,"display","grid"),_(d,"place-items","center"),_(d,"padding",".5rem 1rem"),_(d,"background-color","white"),_(d,"color","hsl(217, 10%, 20%)"),_(d,"text-decoration","none"),_(d,"width","240px"),_(d,"border","none"),_(d,"margin","auto"),_(d,"border-radius","4px"),_(d,"font-weight","600"),_(T,"padding","2rem"),t(D,"class","mzp-c-form-header"),_(D,"font-weight","bold"),_(D,"font-size","1.125rem"),t(O,"class","mzp-c-field-label svelte-1mcymtk"),t(O,"for","id_user_email"),t(h,"class","mzp-c-field-control  svelte-1mcymtk"),t(h,"id","id_user_email"),t(h,"name","id_user_email"),t(h,"type","email"),h.required=!0,t(A,"class","mzp-c-field "),t(F,"class","mzp-c-field-label svelte-1mcymtk"),t(F,"for","id_user_pw"),t(p,"class","mzp-c-field-control svelte-1mcymtk"),t(p,"id","id_user_pw"),t(p,"name","id_user_pw"),t(p,"type","password"),t(p,"min",we),p.required=!0,t(H,"class",te=""+(je(l[6]?"error-msg-active":"hide-error-msg")+" svelte-1mcymtk")),t(y,"class","mzp-c-field "),t(V,"class","mzp-c-field-set svelte-1mcymtk"),t(M,"method","post"),t(M,"class","svelte-1mcymtk"),t(j,"class","mzp-c-button"),j.disabled=l[5],t(B,"class","mzp-c-button mzp-t-secondary"),B.disabled=l[5],t(W,"class","mzp-c-form-footer"),t(N,"class","external-link"),t(N,"target","_blank"),t(N,"rel","noopener noreferrer"),t(N,"href","https://rally.mozilla.org/how-rally-works/"),t(K,"class","how-it-works svelte-1mcymtk"),t(s,"class","mzp-l-content svelte-1mcymtk"),t(a,"class","mzp-c-call-out svelte-1mcymtk")},m(u,k){ke(u,a,k),e(a,s),e(s,n),e(n,c),e(s,S),e(s,v),e(v,U),e(s,b),e(s,T),e(T,d),e(d,L),e(s,Q),e(s,D),e(D,X),e(s,Y),e(s,M),e(M,V),e(V,A),e(A,O),e(O,f),e(A,x),e(A,h),ie(h,l[0]),l[15](h),e(V,oe),e(V,y),e(y,F),e(F,ne),e(y,ce),e(y,p),ie(p,l[1]),l[17](p),e(y,ue),I.m(y,null),e(y,ee),e(y,H),e(H,de),e(s,me),e(s,W),e(W,j),e(j,pe),e(W,fe),e(W,B),e(B,he),e(s,_e),e(s,K),e(K,N),e(N,ge),Ye(J,N,null),Z=!0,ye||(Ee=[P(d,"click",l[13]),P(h,"input",l[14]),P(h,"change",l[9]),P(h,"keyup",l[9]),P(p,"input",l[16]),P(p,"change",l[9]),P(p,"keyup",l[9]),P(j,"click",l[18]),P(B,"click",l[19])],ye=!0)},p(u,[k]){k&1&&h.value!==u[0]&&ie(h,u[0]),k&2&&p.value!==u[1]&&ie(p,u[1]),se===(se=ze(u))&&I?I.p(u,k):(I.d(1),I=se(u),I&&(I.c(),I.m(y,ee))),(!Z||k&64&&te!==(te=""+(je(u[6]?"error-msg-active":"hide-error-msg")+" svelte-1mcymtk")))&&t(H,"class",te),(!Z||k&32)&&(j.disabled=u[5]),(!Z||k&32)&&(B.disabled=u[5])},i(u){Z||(R||Be(()=>{R=We(n,Fe,{duration:800,y:5}),R.start()}),xe(J.$$.fragment,u),ve||Be(()=>{ve=We(s,Fe,{duration:800,y:5}),ve.start()}),Z=!0)},o(u){$e(J.$$.fragment,u),Z=!1},d(u){u&&o(a),l[15](null),l[17](null),I.d(),et(J),ye=!1,tt(Ee)}}}const we=8;function nt(l,a,s){let n;var c,z;const R=st("rally:store");lt(l,R,f=>s(12,n=f));let S,v,U,b,T=!1,d=!0,L=!1;const $=()=>{s(4,T=!T);const f=b.getAttribute("type")==="password"?"text":"password";b.setAttribute("type",f)},Q=f=>{const x=f.srcElement.name;U&&b&&(b.value.length>=we&&U.value.length>0?s(5,d=!1):s(5,d=!0),x==="id_user_pw"&&(b.value.length>=we?s(6,L=!1):s(6,L=!0)))},D=async()=>{await R.loginWithGoogle()};function X(){S=this.value,s(0,S)}function Y(f){qe[f?"unshift":"push"](()=>{U=f,s(2,U)})}function M(){v=this.value,s(1,v)}function V(f){qe[f?"unshift":"push"](()=>{b=f,s(3,b)})}const A=async()=>{await R.loginWithEmailAndPassword(S,v)},O=async()=>{await R.signupWithEmailAndPassword(S,v)};return l.$$.update=()=>{l.$$.dirty&7168&&n._initialized&&(s(10,c=n==null?void 0:n.user)===null||c===void 0?void 0:c.uid)&&((s(11,z=n==null?void 0:n.user)===null||z===void 0?void 0:z.enrolled)?He("/studies"):He("/welcome/terms"))},[S,v,U,b,T,d,L,R,$,Q,c,z,n,D,X,Y,M,V,A,O]}class pt extends Je{constructor(a){super();Ze(this,a,nt,ot,Ke,{})}}export{pt as default};
