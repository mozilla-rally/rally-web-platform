var q=Object.defineProperty;var L=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var N=(o,e,t)=>e in o?q(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,E=(o,e)=>{for(var t in e||(e={}))T.call(e,t)&&N(o,t,e[t]);if(L)for(var t of L(e))V.call(e,t)&&N(o,t,e[t]);return o};import{S as G,i as K,s as Q,e as m,j as S,c as _,a as v,m as P,d as u,f as h,o as j,x as $,M as W,u as b,v as z,k as A,l as R,au as X,n as M,w as Z,D as F,L as Y,N as x,t as w,g as k,b as I,J as g,_ as C,r as ee,O as te}from"../../chunks/vendor-fb0c71c8.js";import{g as D}from"../../chunks/navigation-2ffed81e.js";import{C as se}from"../../chunks/Content-d70f3d22.js";import{B}from"../../chunks/Button-425393b0.js";import{f as H,i as J,s as O}from"../../chunks/survey-schema-0711fa1d.js";import"../../chunks/singletons-12a22614.js";function U(o){let e,t,n,s;return t=new se({props:{results:o[1],$$slots:{"call-to-action":[ie,({validated:a,formattedResults:r})=>({10:a,11:r}),({validated:a,formattedResults:r})=>(a?1024:0)|(r?2048:0)],description:[ne],title:[ae]},$$scope:{ctx:o}}}),{c(){e=m("section"),S(t.$$.fragment)},l(a){e=_(a,"SECTION",{});var r=v(e);P(t.$$.fragment,r),r.forEach(u)},m(a,r){h(a,e,r),j(t,e,null),s=!0},p(a,r){const i={};r&2&&(i.results=a[1]),r&5123&&(i.$$scope={dirty:r,ctx:a}),t.$set(i)},i(a){s||($(t.$$.fragment,a),n||W(()=>{n=x(e,te,{duration:800,y:5}),n.start()}),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&u(e),z(t)}}}function ae(o){let e,t;return{c(){e=m("span"),t=w("Manage Profile"),this.h()},l(n){e=_(n,"SPAN",{slot:!0});var s=v(e);t=k(s,"Manage Profile"),s.forEach(u),this.h()},h(){I(e,"slot","title")},m(n,s){h(n,e,s),g(e,t)},d(n){n&&u(e)}}}function ne(o){let e,t;return{c(){e=m("p"),t=w(`Here's what you've shared with us so far. You can update, add, or
        rescind your answers as you see fit. Just a reminder, this info helps us
        better understand the representitivity of our study participants, and
        we'll always ask before we share this data with a research collaborator.`),this.h()},l(n){e=_(n,"P",{slot:!0});var s=v(e);t=k(s,`Here's what you've shared with us so far. You can update, add, or
        rescind your answers as you see fit. Just a reminder, this info helps us
        better understand the representitivity of our study participants, and
        we'll always ask before we share this data with a research collaborator.`),s.forEach(u),this.h()},h(){I(e,"slot","description")},m(n,s){h(n,e,s),g(e,t)},d(n){n&&u(e)}}}function oe(o){let e;return{c(){e=w("Save Changes")},l(t){e=k(t,"Save Changes")},m(t,n){h(t,e,n)},d(t){t&&u(e)}}}function re(o){let e;return{c(){e=w("Cancel")},l(t){e=k(t,"Cancel")},m(t,n){h(t,e,n)},d(t){t&&u(e)}}}function ie(o){let e,t,n,s,a,r,i,p;function y(){return o[8](o[11])}return a=new B({props:{size:"lg",product:!0,leave:!o[10],disabled:!o[10],$$slots:{default:[oe]},$$scope:{ctx:o}}}),a.$on("click",y),i=new B({props:{size:"lg",product:!0,disabled:!o[10],secondary:!0,$$slots:{default:[re]},$$scope:{ctx:o}}}),i.$on("click",o[9]),{c(){e=m("div"),t=m("hr"),n=A(),s=m("div"),S(a.$$.fragment),r=A(),S(i.$$.fragment),this.h()},l(l){e=_(l,"DIV",{slot:!0});var c=v(e);t=_(c,"HR",{}),n=M(c),s=_(c,"DIV",{style:!0});var d=v(s);P(a.$$.fragment,d),r=M(d),P(i.$$.fragment,d),d.forEach(u),c.forEach(u),this.h()},h(){C(s,"display","grid"),C(s,"grid-auto-flow","column"),C(s,"grid-column-gap","12px"),C(s,"width","max-content"),I(e,"slot","call-to-action")},m(l,c){h(l,e,c),g(e,t),g(e,n),g(e,s),j(a,s,null),g(s,r),j(i,s,null),p=!0},p(l,c){o=l;const d={};c&1024&&(d.leave=!o[10]),c&1024&&(d.disabled=!o[10]),c&4096&&(d.$$scope={dirty:c,ctx:o}),a.$set(d);const f={};c&1024&&(f.disabled=!o[10]),c&4096&&(f.$$scope={dirty:c,ctx:o}),i.$set(f)},i(l){p||($(a.$$.fragment,l),$(i.$$.fragment,l),p=!0)},o(l){b(a.$$.fragment,l),b(i.$$.fragment,l),p=!1},d(l){l&&u(e),z(a),z(i)}}}function le(o){let e,t,n,s=o[0]._initialized&&o[2]===!0&&U(o);return{c(){e=A(),s&&s.c(),t=R(),this.h()},l(a){X('[data-svelte="svelte-pnmh86"]',document.head).forEach(u),e=M(a),s&&s.l(a),t=R(),this.h()},h(){document.title="Manage Your Profile | Mozilla Rally"},m(a,r){h(a,e,r),s&&s.m(a,r),h(a,t,r),n=!0},p(a,[r]){a[0]._initialized&&a[2]===!0?s?(s.p(a,r),r&5&&$(s,1)):(s=U(a),s.c(),$(s,1),s.m(t.parentNode,t)):s&&(ee(),b(s,1,1,()=>{s=null}),Z())},i(a){n||($(s),n=!0)},o(a){b(s),n=!1},d(a){a&&u(e),s&&s.d(a),a&&u(t)}}}function ce(o,e,t){let n,s;var a,r;const i=F("rally:store");Y(o,i,f=>t(0,n=f));const p=F("rally:isAuthenticated");Y(o,p,f=>t(2,s=f));const y=F("rally:notifications");let l;const c=f=>{i.updateDemographicSurvey(f),D("/studies"),y.send({code:"SUCCESSFULLY_UPDATED_PROFILE"})},d=()=>{t(1,l=H(O,E({},n.user.demographicsData),J)),D("/studies")};return o.$$.update=()=>{o.$$.dirty&193&&n._initialized&&((t(6,a=n==null?void 0:n.user)===null||a===void 0?void 0:a.uid)?(t(7,r=n==null?void 0:n.user)===null||r===void 0?void 0:r.enrolled)||D("/welcome/terms"):D("/signup")),o.$$.dirty&1&&n.user&&n.user.demographicsData&&t(1,l=H(O,E({},n.user.demographicsData),J))},[n,l,s,i,p,y,a,r,c,d]}class $e extends G{constructor(e){super();K(this,e,ce,le,Q,{})}}export{$e as default};
