var V=Object.defineProperty;var R=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var Y=(n,e,s)=>e in n?V(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,D=(n,e)=>{for(var s in e||(e={}))O.call(e,s)&&Y(n,s,e[s]);if(R)for(var s of R(e))T.call(e,s)&&Y(n,s,e[s]);return n};import{S as Z,i as G,s as K,j as S,m as E,o as P,x as p,u as _,v as j,k as A,l as B,aw as Q,d as u,n as z,f as h,w as W,D as F,J as H,e as $,t as v,c as g,a as w,g as b,b as I,I as m,Z as y,r as X}from"../../chunks/vendor-199f86ca.js";import{g as M}from"../../chunks/navigation-2ffed81e.js";import{C as x}from"../../chunks/Content-3a280fc2.js";import{B as J}from"../../chunks/Button-5bdaf271.js";import{f as L,i as U,s as q}from"../../chunks/survey-schema-0711fa1d.js";import"../../chunks/singletons-12a22614.js";function N(n){let e,s;return e=new x({props:{results:n[1],$$slots:{"call-to-action":[ne,({validated:a,formattedResults:t})=>({8:a,9:t}),({validated:a,formattedResults:t})=>(a?256:0)|(t?512:0)],description:[te],title:[ee]},$$scope:{ctx:n}}}),{c(){S(e.$$.fragment)},l(a){E(e.$$.fragment,a)},m(a,t){P(e,a,t),s=!0},p(a,t){const r={};t&2&&(r.results=a[1]),t&1283&&(r.$$scope={dirty:t,ctx:a}),e.$set(r)},i(a){s||(p(e.$$.fragment,a),s=!0)},o(a){_(e.$$.fragment,a),s=!1},d(a){j(e,a)}}}function ee(n){let e,s;return{c(){e=$("span"),s=v("Manage Profile"),this.h()},l(a){e=g(a,"SPAN",{slot:!0});var t=w(e);s=b(t,"Manage Profile"),t.forEach(u),this.h()},h(){I(e,"slot","title")},m(a,t){h(a,e,t),m(e,s)},d(a){a&&u(e)}}}function te(n){let e,s;return{c(){e=$("p"),s=v(`Here's what you've shared with us so far. You can update, add, or rescind
      your answers as you see fit. Just a reminder, this info helps us better
      understand the representitivity of our study participants, and we'll
      always ask before we share this data with a research collaborator.`),this.h()},l(a){e=g(a,"P",{slot:!0});var t=w(e);s=b(t,`Here's what you've shared with us so far. You can update, add, or rescind
      your answers as you see fit. Just a reminder, this info helps us better
      understand the representitivity of our study participants, and we'll
      always ask before we share this data with a research collaborator.`),t.forEach(u),this.h()},h(){I(e,"slot","description")},m(a,t){h(a,e,t),m(e,s)},d(a){a&&u(e)}}}function se(n){let e;return{c(){e=v("Save Changes")},l(s){e=b(s,"Save Changes")},m(s,a){h(s,e,a)},d(s){s&&u(e)}}}function ae(n){let e;return{c(){e=v("Cancel")},l(s){e=b(s,"Cancel")},m(s,a){h(s,e,a)},d(s){s&&u(e)}}}function ne(n){let e,s,a,t,r,l,c,d;function k(){return n[6](n[9])}return r=new J({props:{size:"lg",product:!0,leave:!n[8],disabled:!n[8],$$slots:{default:[se]},$$scope:{ctx:n}}}),r.$on("click",k),c=new J({props:{size:"lg",product:!0,disabled:!n[8],secondary:!0,$$slots:{default:[ae]},$$scope:{ctx:n}}}),c.$on("click",n[7]),{c(){e=$("div"),s=$("hr"),a=A(),t=$("div"),S(r.$$.fragment),l=A(),S(c.$$.fragment),this.h()},l(i){e=g(i,"DIV",{slot:!0});var o=w(e);s=g(o,"HR",{}),a=z(o),t=g(o,"DIV",{style:!0});var f=w(t);E(r.$$.fragment,f),l=z(f),E(c.$$.fragment,f),f.forEach(u),o.forEach(u),this.h()},h(){y(t,"display","grid"),y(t,"grid-auto-flow","column"),y(t,"grid-column-gap","12px"),y(t,"width","max-content"),I(e,"slot","call-to-action")},m(i,o){h(i,e,o),m(e,s),m(e,a),m(e,t),P(r,t,null),m(t,l),P(c,t,null),d=!0},p(i,o){n=i;const f={};o&256&&(f.leave=!n[8]),o&256&&(f.disabled=!n[8]),o&1024&&(f.$$scope={dirty:o,ctx:n}),r.$set(f);const C={};o&256&&(C.disabled=!n[8]),o&1024&&(C.$$scope={dirty:o,ctx:n}),c.$set(C)},i(i){d||(p(r.$$.fragment,i),p(c.$$.fragment,i),d=!0)},o(i){_(r.$$.fragment,i),_(c.$$.fragment,i),d=!1},d(i){i&&u(e),j(r),j(c)}}}function re(n){let e,s,a,t=n[0]._initialized&&N(n);return{c(){e=A(),t&&t.c(),s=B(),this.h()},l(r){Q('[data-svelte="svelte-pnmh86"]',document.head).forEach(u),e=z(r),t&&t.l(r),s=B(),this.h()},h(){document.title="Manage Your Profile | Mozilla Rally"},m(r,l){h(r,e,l),t&&t.m(r,l),h(r,s,l),a=!0},p(r,[l]){r[0]._initialized?t?(t.p(r,l),l&1&&p(t,1)):(t=N(r),t.c(),p(t,1),t.m(s.parentNode,s)):t&&(X(),_(t,1,1,()=>{t=null}),W())},i(r){a||(p(t),a=!0)},o(r){_(t),a=!1},d(r){r&&u(e),t&&t.d(r),r&&u(s)}}}function oe(n,e,s){let a,t;const r=F("rally:store");H(n,r,o=>s(0,a=o));const l=F("rally:isAuthenticated");H(n,l,o=>s(5,t=o));const c=F("rally:notifications");let d;const k=o=>{r.updateDemographicSurvey(o),M("/studies"),c.send({code:"SUCCESSFULLY_UPDATED_PROFILE"})},i=()=>{s(1,d=L(q,D({},a.user.demographicsData),U)),M("/studies")};return n.$$.update=()=>{n.$$.dirty&32&&t===!1&&M("/signup"),n.$$.dirty&1&&a.user&&a.user.demographicsData&&s(1,d=L(q,D({},a.user.demographicsData),U))},[a,d,r,l,c,t,k,i]}class pe extends Z{constructor(e){super();G(this,e,oe,re,K,{})}}export{pe as default};
