import{S as Q,i as W,s as Z,Y as oe,Z as re,a as N,d as v,b as m,f as P,J as w,K as X,e as A,j as ue,t as M,c as C,m as fe,g as S,o as _e,P as U,x as T,M as $,W as G,O as Y,u as D,v as ce,a1 as je,E as x,k as V,n as q,av as B,_ as F,h as J,r as ee,w as le,F as te,G as se,H as ne,N as Ie,aw as he,ax as Ae,l as de,a2 as Ce,at as Ne,R as Oe}from"./vendor-f4449b02.js";import{s as p,q as me,c as ie,a as ae,i as j,b as Pe,d as Te}from"./survey-schema-0711fa1d.js";function Ve(l){let e,t;return{c(){e=oe("svg"),t=oe("path"),this.h()},l(n){e=re(n,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var s=N(e);t=re(s,"path",{fill:!0,d:!0}),N(t).forEach(v),s.forEach(v),this.h()},h(){m(t,"fill",l[1]),m(t,"d",`M9.061 8l3.47-3.47a.75.75 0 0 0-1.061-1.06L8 6.939 4.53 3.47a.75.75 0 1
    0-1.06 1.06L6.939 8 3.47 11.47a.75.75 0 1 0 1.06 1.06L8 9.061l3.47
    3.47a.75.75 0 0 0 1.06-1.061z`),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width",l[0]),m(e,"height",l[0]),m(e,"viewBox","0 0 16 16")},m(n,s){P(n,e,s),w(e,t)},p(n,[s]){s&2&&m(t,"fill",n[1]),s&1&&m(e,"width",n[0]),s&1&&m(e,"height",n[0])},i:X,o:X,d(n){n&&v(e)}}}function qe(l,e,t){let{size:n="1em"}=e,{color:s="currentColor"}=e;return l.$$set=a=>{"size"in a&&t(0,n=a.size),"color"in a&&t(1,s=a.color)},[n,s]}class De extends Q{constructor(e){super();W(this,e,qe,Ve,Z,{size:0,color:1})}}function Be(l){let e,t,n,s,a,i,o;return t=new De({}),{c(){e=A("button"),ue(t.$$.fragment),n=M(" Clear this response"),this.h()},l(f){e=C(f,"BUTTON",{class:!0});var y=N(e);fe(t.$$.fragment,y),n=S(y," Clear this response"),y.forEach(v),this.h()},h(){m(e,"class","gafc mzp-t-sm mzp-c-button mzp-t-neutral mzp-t-product svelte-kjkpeb")},m(f,y){P(f,e,y),_e(t,e,null),w(e,n),a=!0,i||(o=U(e,"click",l[0]),i=!0)},p:X,i(f){a||(T(t.$$.fragment,f),f&&$(()=>{s||(s=G(e,Y,{duration:150,y:2.5},!0)),s.run(1)}),a=!0)},o(f){D(t.$$.fragment,f),f&&(s||(s=G(e,Y,{duration:150,y:2.5},!1)),s.run(0)),a=!1},d(f){f&&v(e),ce(t),f&&s&&s.end(),i=!1,o()}}}function Le(l){function e(t){je.call(this,l,t)}return[e]}class Me extends Q{constructor(e){super();W(this,e,Le,Be,Z,{})}}const Se=l=>({formattedResults:l&1,validated:l&1}),pe=l=>({formattedResults:ae(p,l[0],j),validated:j.validateAllQuestions(p,l[0])});function ve(l,e,t){const n=l.slice();return n[12]=e[t],n[13]=e,n[14]=t,n}function ge(l,e,t){const n=l.slice();return n[15]=e[t],n}const Ue=l=>({}),be=l=>({}),Fe=l=>({}),ke=l=>({});function He(l){let e,t;return{c(){e=A("span"),t=M("Tell Us About Yourself")},l(n){e=C(n,"SPAN",{});var s=N(e);t=S(s,"Tell Us About Yourself"),s.forEach(v)},m(n,s){P(n,e,s),w(e,t)},d(n){n&&v(e)}}}function Ye(l){let e,t;return{c(){e=A("p"),t=M(`Each question is completely optional, and can be updated at any time by
      clicking Manage Profile. The answers you give will help us understand the
      composition and representivity of the Rally community. Additionally,
      collaborators will combine your answers with the data collected in the
      studies you join to enrich their findings and answer research questions.`)},l(n){e=C(n,"P",{});var s=N(e);t=S(s,`Each question is completely optional, and can be updated at any time by
      clicking Manage Profile. The answers you give will help us understand the
      composition and representivity of the Rally community. Additionally,
      collaborators will combine your answers with the data collected in the
      studies you join to enrich their findings and answer research questions.`),s.forEach(v)},m(n,s){P(n,e,s),w(e,t)},d(n){n&&v(e)}}}function we(l){let e,t;function n(...s){return l[5](l[12],...s)}return e=new Me({}),e.$on("click",n),{c(){ue(e.$$.fragment)},l(s){fe(e.$$.fragment,s)},m(s,a){_e(e,s,a),t=!0},p(s,a){l=s},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){ce(e,s)}}}function ye(l){let e,t=p[l[12]].sublabel+"",n;return{c(){e=A("div"),n=M(t),this.h()},l(s){e=C(s,"DIV",{style:!0});var a=N(e);n=S(a,t),a.forEach(v),this.h()},h(){F(e,"padding-top","-8px"),F(e,"padding-bottom","20px")},m(s,a){P(s,e,a),w(e,n)},p(s,a){a&1&&t!==(t=p[s[12]].sublabel+"")&&J(n,t)},d(s){s&&v(e)}}}function Ge(l){let e,t=p[l[12]].values,n=[];for(let s=0;s<t.length;s+=1)n[s]=Ee(ge(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=de()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=de()},m(s,a){for(let i=0;i<n.length;i+=1)n[i].m(s,a);P(s,e,a)},p(s,a){if(a&1){t=p[s[12]].values;let i;for(i=0;i<t.length;i+=1){const o=ge(s,t,i);n[i]?n[i].p(o,a):(n[i]=Ee(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){he(n,s),s&&v(e)}}}function Je(l){let e,t,n,s,a,i,o=j.showErrors(l[12])&&j.hasValidator(l[12])&&j[l[12]].isInvalid(l[0][l[12]]),f,y;function h(...d){return l[6](l[12],...d)}function E(...d){return l[7](l[12],...d)}function g(...d){return l[8](l[12],...d)}let r=o&&ze(l);return{c(){e=A("div"),t=A("input"),a=V(),i=A("span"),r&&r.c(),this.h()},l(d){e=C(d,"DIV",{class:!0});var c=N(e);t=C(c,"INPUT",{type:!0,class:!0}),a=q(c),i=C(c,"SPAN",{style:!0});var k=N(i);r&&r.l(k),k.forEach(v),c.forEach(v),this.h()},h(){m(t,"type","text"),t.value=n=l[0][l[12]],m(t,"class","svelte-4j0kdm"),B(t,"right",j[l[12]].alignRight),F(i,"min-height","24px"),F(i,"display","block"),m(e,"class","mzp-c-choice mzp-c-choice-text svelte-4j0kdm"),B(e,"mzp-is-error",j.showErrors(l[12])&&j.hasValidator(l[12])&&j[l[12]].isInvalid(l[0][l[12]]))},m(d,c){P(d,e,c),w(e,t),w(e,a),w(e,i),r&&r.m(i,null),f||(y=[Ce(s=Te.call(null,t,j[l[12]])),U(t,"blur",h),U(t,"focus",E),U(t,"input",g)],f=!0)},p(d,c){l=d,c&1&&n!==(n=l[0][l[12]])&&t.value!==n&&(t.value=n),s&&Ne(s.update)&&c&1&&s.update.call(null,j[l[12]]),c&1&&B(t,"right",j[l[12]].alignRight),c&1&&(o=j.showErrors(l[12])&&j.hasValidator(l[12])&&j[l[12]].isInvalid(l[0][l[12]])),o?r?(r.p(l,c),c&1&&T(r,1)):(r=ze(l),r.c(),T(r,1),r.m(i,null)):r&&(ee(),D(r,1,1,()=>{r=null}),le()),c&1&&B(e,"mzp-is-error",j.showErrors(l[12])&&j.hasValidator(l[12])&&j[l[12]].isInvalid(l[0][l[12]]))},d(d){d&&v(e),r&&r.d(),f=!1,Oe(y)}}}function Ke(l){let e,t,n,s,a;l[10][0][l[14]]=[];function i(){l[11].call(e,l[12],l[14])}return{c(){e=A("input"),this.h()},l(o){e=C(o,"INPUT",{class:!0,type:!0,id:!0}),this.h()},h(){m(e,"class","mzp-c-choice-control svelte-4j0kdm"),m(e,"type","checkbox"),m(e,"id",t="answer-"+l[15].key),e.__value=n=l[15].key,e.value=e.__value,l[10][0][l[14]].push(e)},m(o,f){P(o,e,f),e.checked=~l[0][l[12]].indexOf(e.__value),s||(a=U(e,"change",i),s=!0)},p(o,f){l=o,f&1&&t!==(t="answer-"+l[15].key)&&m(e,"id",t),f&1&&n!==(n=l[15].key)&&(e.__value=n,e.value=e.__value),f&1&&(e.checked=~l[0][l[12]].indexOf(e.__value))},d(o){o&&v(e),l[10][0][l[14]].splice(l[10][0][l[14]].indexOf(e),1),s=!1,a()}}}function Qe(l){let e,t,n,s,a;l[10][0][l[14]]=[];function i(){l[9].call(e,l[12])}return{c(){e=A("input"),this.h()},l(o){e=C(o,"INPUT",{class:!0,type:!0,id:!0}),this.h()},h(){m(e,"class","mzp-c-choice-control svelte-4j0kdm"),m(e,"type","radio"),m(e,"id",t="answer-"+l[15].key),e.__value=n=l[15].key,e.value=e.__value,l[10][0][l[14]].push(e)},m(o,f){P(o,e,f),e.checked=e.__value===l[0][l[12]],s||(a=U(e,"change",i),s=!0)},p(o,f){l=o,f&1&&t!==(t="answer-"+l[15].key)&&m(e,"id",t),f&1&&n!==(n=l[15].key)&&(e.__value=n,e.value=e.__value),f&1&&(e.checked=e.__value===l[0][l[12]])},d(o){o&&v(e),l[10][0][l[14]].splice(l[10][0][l[14]].indexOf(e),1),s=!1,a()}}}function Ee(l){let e,t,n,s=l[15].label+"",a,i,o;function f(E,g){if(p[E[12]].type==="single")return Qe;if(p[E[12]].type==="multi")return Ke}let y=f(l),h=y&&y(l);return{c(){e=A("div"),h&&h.c(),t=V(),n=A("label"),a=M(s),o=V(),this.h()},l(E){e=C(E,"DIV",{class:!0});var g=N(e);h&&h.l(g),t=q(g),n=C(g,"LABEL",{class:!0,for:!0});var r=N(n);a=S(r,s),r.forEach(v),o=q(g),g.forEach(v),this.h()},h(){m(n,"class","mzp-c-choice-label svelte-4j0kdm"),m(n,"for",i="answer-"+l[15].key),m(e,"class","mzp-c-choice svelte-4j0kdm")},m(E,g){P(E,e,g),h&&h.m(e,null),w(e,t),w(e,n),w(n,a),w(e,o)},p(E,g){y===(y=f(E))&&h?h.p(E,g):(h&&h.d(1),h=y&&y(E),h&&(h.c(),h.m(e,t))),g&1&&s!==(s=E[15].label+"")&&J(a,s),g&1&&i!==(i="answer-"+E[15].key)&&m(n,"for",i)},d(E){E&&v(e),h&&h.d()}}}function ze(l){let e,t,n=j[l[12]].isInvalid(l[0][l[12]])+"",s,a,i;return{c(){e=M(`// show errors if blurred // show errors if there's a validator for this question
                  `),t=A("span"),s=M(n),this.h()},l(o){e=S(o,`// show errors if blurred // show errors if there's a validator for this question
                  `),t=C(o,"SPAN",{class:!0});var f=N(t);s=S(f,n),f.forEach(v),this.h()},h(){m(t,"class","mzp-c-fieldnote")},m(o,f){P(o,e,f),P(o,t,f),w(t,s),i=!0},p(o,f){(!i||f&1)&&n!==(n=j[o[12]].isInvalid(o[0][o[12]])+"")&&J(s,n)},i(o){i||(o&&$(()=>{a||(a=G(t,Y,{duration:300,y:5},!0)),a.run(1)}),i=!0)},o(o){o&&(a||(a=G(t,Y,{duration:300,y:5},!1)),a.run(0)),i=!1},d(o){o&&v(e),o&&v(t),o&&a&&a.end()}}}function Re(l){let e,t,n=p[l[12]].label+"",s,a,i=me(l[0][l[12]],p[l[12]].type),o,f,y,h,E,g,r=i&&we(l),d=p[l[12]].sublabel&&ye(l);function c(u,z){return p[u[12]].type==="text"?Je:Ge}let k=c(l),I=k(l);return{c(){e=A("fieldset"),t=A("legend"),s=M(n),a=V(),r&&r.c(),f=V(),d&&d.c(),y=V(),h=A("div"),I.c(),E=V(),this.h()},l(u){e=C(u,"FIELDSET",{class:!0});var z=N(e);t=C(z,"LEGEND",{class:!0,for:!0});var L=N(t);s=S(L,n),a=q(L),r&&r.l(L),L.forEach(v),f=q(z),d&&d.l(z),y=q(z),h=C(z,"DIV",{class:!0,style:!0});var O=N(h);I.l(O),O.forEach(v),E=q(z),z.forEach(v),this.h()},h(){m(t,"class","mzp-c-field-label svelte-4j0kdm"),m(t,"for",o=p[l[12]].key),B(t,"remove-bottom-margin",p[l[12]].sublabel),m(h,"class","mzp-c-choices svelte-4j0kdm"),F(h,"--rows",p[l[12]].values?Math.ceil(p[l[12]].values.length/2):0),B(h,"two-columns",p[l[12]].columns),m(e,"class","mzp-c-field-set svelte-4j0kdm"),B(e,"mzp-c-field-set-text",p[l[12]].type==="text")},m(u,z){P(u,e,z),w(e,t),w(t,s),w(t,a),r&&r.m(t,null),w(e,f),d&&d.m(e,null),w(e,y),w(e,h),I.m(h,null),w(e,E),g=!0},p(u,z){(!g||z&1)&&n!==(n=p[u[12]].label+"")&&J(s,n),z&1&&(i=me(u[0][u[12]],p[u[12]].type)),i?r?(r.p(u,z),z&1&&T(r,1)):(r=we(u),r.c(),T(r,1),r.m(t,null)):r&&(ee(),D(r,1,1,()=>{r=null}),le()),(!g||z&1&&o!==(o=p[u[12]].key))&&m(t,"for",o),z&1&&B(t,"remove-bottom-margin",p[u[12]].sublabel),p[u[12]].sublabel?d?d.p(u,z):(d=ye(u),d.c(),d.m(e,y)):d&&(d.d(1),d=null),k===(k=c(u))&&I?I.p(u,z):(I.d(1),I=k(u),I&&(I.c(),I.m(h,null))),(!g||z&1)&&F(h,"--rows",p[u[12]].values?Math.ceil(p[u[12]].values.length/2):0),z&1&&B(h,"two-columns",p[u[12]].columns),z&1&&B(e,"mzp-c-field-set-text",p[u[12]].type==="text")},i(u){g||(T(r),g=!0)},o(u){D(r),g=!1},d(u){u&&v(e),r&&r.d(),d&&d.d(),I.d()}}}function We(l){let e,t,n,s,a,i,o,f,y,h;const E=l[4].title,g=x(E,l,l[3],ke),r=g||He(),d=l[4].description,c=x(d,l,l[3],be),k=c||Ye();let I=Object.keys(l[0]),u=[];for(let _=0;_<I.length;_+=1)u[_]=Re(ve(l,I,_));const z=_=>D(u[_],1,1,()=>{u[_]=null}),L=l[4]["call-to-action"],O=x(L,l,l[3],pe);return{c(){e=A("div"),t=A("h2"),r&&r.c(),n=V(),k&&k.c(),s=V(),a=A("hr"),i=V(),o=A("form");for(let _=0;_<u.length;_+=1)u[_].c();f=V(),O&&O.c(),this.h()},l(_){e=C(_,"DIV",{});var b=N(e);t=C(b,"H2",{class:!0});var R=N(t);r&&r.l(R),R.forEach(v),n=q(b),k&&k.l(b),s=q(b),a=C(b,"HR",{}),i=q(b),o=C(b,"FORM",{class:!0});var H=N(o);for(let K=0;K<u.length;K+=1)u[K].l(H);H.forEach(v),f=q(b),O&&O.l(b),b.forEach(v),this.h()},h(){m(t,"class","section-header"),m(o,"class","mzp-c-form")},m(_,b){P(_,e,b),w(e,t),r&&r.m(t,null),w(e,n),k&&k.m(e,null),w(e,s),w(e,a),w(e,i),w(e,o);for(let R=0;R<u.length;R+=1)u[R].m(o,null);w(e,f),O&&O.m(e,null),h=!0},p(_,[b]){if(g&&g.p&&(!h||b&8)&&te(g,E,_,_[3],h?ne(E,_[3],b,Fe):se(_[3]),ke),c&&c.p&&(!h||b&8)&&te(c,d,_,_[3],h?ne(d,_[3],b,Ue):se(_[3]),be),b&1){I=Object.keys(_[0]);let R;for(R=0;R<I.length;R+=1){const H=ve(_,I,R);u[R]?(u[R].p(H,b),T(u[R],1)):(u[R]=Re(H),u[R].c(),T(u[R],1),u[R].m(o,null))}for(ee(),R=I.length;R<u.length;R+=1)z(R);le()}O&&O.p&&(!h||b&9)&&te(O,L,_,_[3],h?ne(L,_[3],b,Se):se(_[3]),pe)},i(_){if(!h){T(r,_),T(k,_);for(let b=0;b<I.length;b+=1)T(u[b]);T(O,_),_&&(y||$(()=>{y=Ie(e,Y,{duration:800,y:5}),y.start()})),h=!0}},o(_){D(r,_),D(k,_),u=u.filter(Boolean);for(let b=0;b<u.length;b+=1)D(u[b]);D(O,_),h=!1},d(_){_&&v(e),r&&r.d(_),k&&k.d(_),he(u,_),O&&O.d(_)}}}function Ze(l,e,t){let{$$slots:n={},$$scope:s}=e,{results:a=ie(p)}=e,{workingResults:i=ie(p,a)}=e,{formattedResults:o=ae(p,i,j)}=e;const f=[[]],y=(c,k)=>{k.preventDefault(),t(0,i[c]=Pe(p[c].type),i)},h=(c,k)=>{t(0,i[c]=k.target.value,i)},E=(c,k)=>{t(0,i[c]=k.target.value,i)},g=(c,k)=>{t(0,i[c]=k.target.value,i)};function r(c){i[c]=this.__value,t(0,i)}function d(c,k){i[c]=Ae(f[0][k],this.__value,this.checked),t(0,i)}return l.$$set=c=>{"results"in c&&t(2,a=c.results),"workingResults"in c&&t(0,i=c.workingResults),"formattedResults"in c&&t(1,o=c.formattedResults),"$$scope"in c&&t(3,s=c.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&t(0,i=ie(p,i)),l.$$.dirty&1&&t(1,o=ae(p,i,j))},[i,o,a,s,n,y,h,E,g,r,f,d]}class xe extends Q{constructor(e){super();W(this,e,Ze,We,Z,{results:2,workingResults:0,formattedResults:1})}}export{xe as C};
