import{S as Y,i as G,s as J,Y as x,Z as ee,a as A,d as g,b as m,f as C,J as b,K,e as R,j as le,t as D,c as I,m as te,g as N,o as se,P as L,x as O,M as ne,W as S,O as U,u as B,v as ae,a1 as ve,k as T,n as P,av as V,_ as M,h as F,r as Q,w as W,E as ge,F as be,G as we,H as ke,aw as ie,ax as ye,l as re,a2 as Ee,at as ze,R as je}from"./vendor-590b911b.js";import{s as p,q as oe,c as Z,a as X,i as z,b as Re,d as Ie}from"./survey-schema-0711fa1d.js";function Ae(l){let e,t;return{c(){e=x("svg"),t=x("path"),this.h()},l(n){e=ee(n,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var s=A(e);t=ee(s,"path",{fill:!0,d:!0}),A(t).forEach(g),s.forEach(g),this.h()},h(){m(t,"fill",l[1]),m(t,"d",`M9.061 8l3.47-3.47a.75.75 0 0 0-1.061-1.06L8 6.939 4.53 3.47a.75.75 0 1
    0-1.06 1.06L6.939 8 3.47 11.47a.75.75 0 1 0 1.06 1.06L8 9.061l3.47
    3.47a.75.75 0 0 0 1.06-1.061z`),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width",l[0]),m(e,"height",l[0]),m(e,"viewBox","0 0 16 16")},m(n,s){C(n,e,s),b(e,t)},p(n,[s]){s&2&&m(t,"fill",n[1]),s&1&&m(e,"width",n[0]),s&1&&m(e,"height",n[0])},i:K,o:K,d(n){n&&g(e)}}}function Ce(l,e,t){let{size:n="1em"}=e,{color:s="currentColor"}=e;return l.$$set=i=>{"size"in i&&t(0,n=i.size),"color"in i&&t(1,s=i.color)},[n,s]}class Oe extends Y{constructor(e){super();G(this,e,Ce,Ae,J,{size:0,color:1})}}function Te(l){let e,t,n,s,i,a,r;return t=new Oe({}),{c(){e=R("button"),le(t.$$.fragment),n=D(" Clear this response"),this.h()},l(_){e=I(_,"BUTTON",{class:!0});var k=A(e);te(t.$$.fragment,k),n=N(k," Clear this response"),k.forEach(g),this.h()},h(){m(e,"class","gafc mzp-t-sm mzp-c-button mzp-t-neutral mzp-t-product svelte-1a4zyy7")},m(_,k){C(_,e,k),se(t,e,null),b(e,n),i=!0,a||(r=L(e,"click",l[0]),a=!0)},p:K,i(_){i||(O(t.$$.fragment,_),_&&ne(()=>{s||(s=S(e,U,{duration:150,y:2.5},!0)),s.run(1)}),i=!0)},o(_){B(t.$$.fragment,_),_&&(s||(s=S(e,U,{duration:150,y:2.5},!1)),s.run(0)),i=!1},d(_){_&&g(e),ae(t),_&&s&&s.end(),a=!1,r()}}}function Pe(l){function e(t){ve.call(this,l,t)}return[e]}class Ve extends Y{constructor(e){super();G(this,e,Pe,Te,J,{})}}const qe=l=>({formattedResults:l&1,validated:l&1}),ue=l=>({formattedResults:X(p,l[0],z),validated:z.validateAllQuestions(p,l[0])});function fe(l,e,t){const n=l.slice();return n[12]=e[t],n[13]=e,n[14]=t,n}function _e(l,e,t){const n=l.slice();return n[15]=e[t],n}function ce(l){let e,t;function n(...s){return l[5](l[12],...s)}return e=new Ve({}),e.$on("click",n),{c(){le(e.$$.fragment)},l(s){te(e.$$.fragment,s)},m(s,i){se(e,s,i),t=!0},p(s,i){l=s},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){ae(e,s)}}}function he(l){let e,t=p[l[12]].sublabel+"",n;return{c(){e=R("div"),n=D(t),this.h()},l(s){e=I(s,"DIV",{style:!0,class:!0});var i=A(e);n=N(i,t),i.forEach(g),this.h()},h(){M(e,"padding-top","-8px"),M(e,"padding-bottom","20px"),m(e,"class","svelte-1jw40t8")},m(s,i){C(s,e,i),b(e,n)},p(s,i){i&1&&t!==(t=p[s[12]].sublabel+"")&&F(n,t)},d(s){s&&g(e)}}}function De(l){let e,t=p[l[12]].values,n=[];for(let s=0;s<t.length;s+=1)n[s]=de(_e(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=re()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=re()},m(s,i){for(let a=0;a<n.length;a+=1)n[a].m(s,i);C(s,e,i)},p(s,i){if(i&1){t=p[s[12]].values;let a;for(a=0;a<t.length;a+=1){const r=_e(s,t,a);n[a]?n[a].p(r,i):(n[a]=de(r),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(s){ie(n,s),s&&g(e)}}}function Ne(l){let e,t,n,s,i,a,r=z.showErrors(l[12])&&z.hasValidator(l[12])&&z[l[12]].isInvalid(l[0][l[12]]),_,k;function d(...u){return l[6](l[12],...u)}function y(...u){return l[7](l[12],...u)}function v(...u){return l[8](l[12],...u)}let f=r&&me(l);return{c(){e=R("div"),t=R("input"),i=T(),a=R("span"),f&&f.c(),this.h()},l(u){e=I(u,"DIV",{class:!0});var h=A(e);t=I(h,"INPUT",{type:!0,class:!0}),i=P(h),a=I(h,"SPAN",{style:!0});var j=A(a);f&&f.l(j),j.forEach(g),h.forEach(g),this.h()},h(){m(t,"type","text"),t.value=n=l[0][l[12]],m(t,"class","svelte-1jw40t8"),V(t,"right",z[l[12]].alignRight),M(a,"min-height","24px"),M(a,"display","block"),m(e,"class","mzp-c-choice mzp-c-choice-text svelte-1jw40t8"),V(e,"mzp-is-error",z.showErrors(l[12])&&z.hasValidator(l[12])&&z[l[12]].isInvalid(l[0][l[12]]))},m(u,h){C(u,e,h),b(e,t),b(e,i),b(e,a),f&&f.m(a,null),_||(k=[Ee(s=Ie.call(null,t,z[l[12]])),L(t,"blur",d),L(t,"focus",y),L(t,"input",v)],_=!0)},p(u,h){l=u,h&1&&n!==(n=l[0][l[12]])&&t.value!==n&&(t.value=n),s&&ze(s.update)&&h&1&&s.update.call(null,z[l[12]]),h&1&&V(t,"right",z[l[12]].alignRight),h&1&&(r=z.showErrors(l[12])&&z.hasValidator(l[12])&&z[l[12]].isInvalid(l[0][l[12]])),r?f?(f.p(l,h),h&1&&O(f,1)):(f=me(l),f.c(),O(f,1),f.m(a,null)):f&&(Q(),B(f,1,1,()=>{f=null}),W()),h&1&&V(e,"mzp-is-error",z.showErrors(l[12])&&z.hasValidator(l[12])&&z[l[12]].isInvalid(l[0][l[12]]))},d(u){u&&g(e),f&&f.d(),_=!1,je(k)}}}function Be(l){let e,t,n,s,i;l[10][0][l[14]]=[];function a(){l[11].call(e,l[12],l[14])}return{c(){e=R("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,id:!0}),this.h()},h(){m(e,"class","mzp-c-choice-control svelte-1jw40t8"),m(e,"type","checkbox"),m(e,"id",t="answer-"+l[15].key),e.__value=n=l[15].key,e.value=e.__value,l[10][0][l[14]].push(e)},m(r,_){C(r,e,_),e.checked=~l[0][l[12]].indexOf(e.__value),s||(i=L(e,"change",a),s=!0)},p(r,_){l=r,_&1&&t!==(t="answer-"+l[15].key)&&m(e,"id",t),_&1&&n!==(n=l[15].key)&&(e.__value=n,e.value=e.__value),_&1&&(e.checked=~l[0][l[12]].indexOf(e.__value))},d(r){r&&g(e),l[10][0][l[14]].splice(l[10][0][l[14]].indexOf(e),1),s=!1,i()}}}function Le(l){let e,t,n,s,i;l[10][0][l[14]]=[];function a(){l[9].call(e,l[12])}return{c(){e=R("input"),this.h()},l(r){e=I(r,"INPUT",{class:!0,type:!0,id:!0}),this.h()},h(){m(e,"class","mzp-c-choice-control svelte-1jw40t8"),m(e,"type","radio"),m(e,"id",t="answer-"+l[15].key),e.__value=n=l[15].key,e.value=e.__value,l[10][0][l[14]].push(e)},m(r,_){C(r,e,_),e.checked=e.__value===l[0][l[12]],s||(i=L(e,"change",a),s=!0)},p(r,_){l=r,_&1&&t!==(t="answer-"+l[15].key)&&m(e,"id",t),_&1&&n!==(n=l[15].key)&&(e.__value=n,e.value=e.__value),_&1&&(e.checked=e.__value===l[0][l[12]])},d(r){r&&g(e),l[10][0][l[14]].splice(l[10][0][l[14]].indexOf(e),1),s=!1,i()}}}function de(l){let e,t,n,s=l[15].label+"",i,a,r;function _(y,v){if(p[y[12]].type==="single")return Le;if(p[y[12]].type==="multi")return Be}let k=_(l),d=k&&k(l);return{c(){e=R("div"),d&&d.c(),t=T(),n=R("label"),i=D(s),r=T(),this.h()},l(y){e=I(y,"DIV",{class:!0});var v=A(e);d&&d.l(v),t=P(v),n=I(v,"LABEL",{class:!0,for:!0});var f=A(n);i=N(f,s),f.forEach(g),r=P(v),v.forEach(g),this.h()},h(){m(n,"class","mzp-c-choice-label svelte-1jw40t8"),m(n,"for",a="answer-"+l[15].key),m(e,"class","mzp-c-choice svelte-1jw40t8")},m(y,v){C(y,e,v),d&&d.m(e,null),b(e,t),b(e,n),b(n,i),b(e,r)},p(y,v){k===(k=_(y))&&d?d.p(y,v):(d&&d.d(1),d=k&&k(y),d&&(d.c(),d.m(e,t))),v&1&&s!==(s=y[15].label+"")&&F(i,s),v&1&&a!==(a="answer-"+y[15].key)&&m(n,"for",a)},d(y){y&&g(e),d&&d.d()}}}function me(l){let e,t,n=z[l[12]].isInvalid(l[0][l[12]])+"",s,i,a;return{c(){e=D(`// show errors if blurred // show errors if there's a
                  validator for this question
                  `),t=R("span"),s=D(n),this.h()},l(r){e=N(r,`// show errors if blurred // show errors if there's a
                  validator for this question
                  `),t=I(r,"SPAN",{class:!0});var _=A(t);s=N(_,n),_.forEach(g),this.h()},h(){m(t,"class","mzp-c-fieldnote")},m(r,_){C(r,e,_),C(r,t,_),b(t,s),a=!0},p(r,_){(!a||_&1)&&n!==(n=z[r[12]].isInvalid(r[0][r[12]])+"")&&F(s,n)},i(r){a||(r&&ne(()=>{i||(i=S(t,U,{duration:300,y:5},!0)),i.run(1)}),a=!0)},o(r){r&&(i||(i=S(t,U,{duration:300,y:5},!1)),i.run(0)),a=!1},d(r){r&&g(e),r&&g(t),r&&i&&i.end()}}}function pe(l){let e,t,n=p[l[12]].label+"",s,i,a=oe(l[0][l[12]],p[l[12]].type),r,_,k,d,y,v,f=a&&ce(l),u=p[l[12]].sublabel&&he(l);function h(o,c){return p[o[12]].type==="text"?Ne:De}let j=h(l),E=j(l);return{c(){e=R("fieldset"),t=R("legend"),s=D(n),i=T(),f&&f.c(),_=T(),u&&u.c(),k=T(),d=R("div"),E.c(),y=T(),this.h()},l(o){e=I(o,"FIELDSET",{class:!0});var c=A(e);t=I(c,"LEGEND",{class:!0,for:!0});var w=A(t);s=N(w,n),i=P(w),f&&f.l(w),w.forEach(g),_=P(c),u&&u.l(c),k=P(c),d=I(c,"DIV",{class:!0,style:!0});var q=A(d);E.l(q),q.forEach(g),y=P(c),c.forEach(g),this.h()},h(){m(t,"class","mzp-c-field-label svelte-1jw40t8"),m(t,"for",r=p[l[12]].key),V(t,"remove-bottom-margin",p[l[12]].sublabel),m(d,"class","mzp-c-choices svelte-1jw40t8"),M(d,"--rows",p[l[12]].values?Math.ceil(p[l[12]].values.length/2):0),V(d,"two-columns",p[l[12]].columns),m(e,"class","mzp-c-field-set svelte-1jw40t8"),V(e,"mzp-c-field-set-text",p[l[12]].type==="text")},m(o,c){C(o,e,c),b(e,t),b(t,s),b(t,i),f&&f.m(t,null),b(e,_),u&&u.m(e,null),b(e,k),b(e,d),E.m(d,null),b(e,y),v=!0},p(o,c){(!v||c&1)&&n!==(n=p[o[12]].label+"")&&F(s,n),c&1&&(a=oe(o[0][o[12]],p[o[12]].type)),a?f?(f.p(o,c),c&1&&O(f,1)):(f=ce(o),f.c(),O(f,1),f.m(t,null)):f&&(Q(),B(f,1,1,()=>{f=null}),W()),(!v||c&1&&r!==(r=p[o[12]].key))&&m(t,"for",r),c&1&&V(t,"remove-bottom-margin",p[o[12]].sublabel),p[o[12]].sublabel?u?u.p(o,c):(u=he(o),u.c(),u.m(e,k)):u&&(u.d(1),u=null),j===(j=h(o))&&E?E.p(o,c):(E.d(1),E=j(o),E&&(E.c(),E.m(d,null))),(!v||c&1)&&M(d,"--rows",p[o[12]].values?Math.ceil(p[o[12]].values.length/2):0),c&1&&V(d,"two-columns",p[o[12]].columns),c&1&&V(e,"mzp-c-field-set-text",p[o[12]].type==="text")},i(o){v||(O(f),v=!0)},o(o){B(f),v=!1},d(o){o&&g(e),f&&f.d(),u&&u.d(),E.d()}}}function Me(l){let e,t,n,s,i,a,r,_,k,d,y,v,f=Object.keys(l[0]),u=[];for(let o=0;o<f.length;o+=1)u[o]=pe(fe(l,f,o));const h=o=>B(u[o],1,1,()=>{u[o]=null}),j=l[4]["call-to-action"],E=ge(j,l,l[3],ue);return{c(){e=R("div"),t=R("h2"),n=D("Tell Us About Yourself"),s=T(),i=R("p"),a=D(`Each question is completely optional, and can be updated at any time by
    clicking Manage Profile. The answers you give will help us understand the
    composition and representivity of the Rally community. Additionally,
    collaborators will combine your answers with the data collected in the
    studies you join to enrich their findings and answer research questions.`),r=T(),_=R("hr"),k=T(),d=R("form");for(let o=0;o<u.length;o+=1)u[o].c();y=T(),E&&E.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var c=A(e);t=I(c,"H2",{class:!0});var w=A(t);n=N(w,"Tell Us About Yourself"),w.forEach(g),s=P(c),i=I(c,"P",{class:!0});var q=A(i);a=N(q,`Each question is completely optional, and can be updated at any time by
    clicking Manage Profile. The answers you give will help us understand the
    composition and representivity of the Rally community. Additionally,
    collaborators will combine your answers with the data collected in the
    studies you join to enrich their findings and answer research questions.`),q.forEach(g),r=P(c),_=I(c,"HR",{}),k=P(c),d=I(c,"FORM",{class:!0});var $=A(d);for(let H=0;H<u.length;H+=1)u[H].l($);$.forEach(g),y=P(c),E&&E.l(c),c.forEach(g),this.h()},h(){m(t,"class","section-header profile__header svelte-1jw40t8"),m(i,"class","profile__description svelte-1jw40t8"),m(d,"class","mzp-c-form svelte-1jw40t8"),m(e,"class","profile md-container svelte-1jw40t8")},m(o,c){C(o,e,c),b(e,t),b(t,n),b(e,s),b(e,i),b(i,a),b(e,r),b(e,_),b(e,k),b(e,d);for(let w=0;w<u.length;w+=1)u[w].m(d,null);b(e,y),E&&E.m(e,null),v=!0},p(o,[c]){if(c&1){f=Object.keys(o[0]);let w;for(w=0;w<f.length;w+=1){const q=fe(o,f,w);u[w]?(u[w].p(q,c),O(u[w],1)):(u[w]=pe(q),u[w].c(),O(u[w],1),u[w].m(d,null))}for(Q(),w=f.length;w<u.length;w+=1)h(w);W()}E&&E.p&&(!v||c&9)&&be(E,j,o,o[3],v?ke(j,o[3],c,qe):we(o[3]),ue)},i(o){if(!v){for(let c=0;c<f.length;c+=1)O(u[c]);O(E,o),v=!0}},o(o){u=u.filter(Boolean);for(let c=0;c<u.length;c+=1)B(u[c]);B(E,o),v=!1},d(o){o&&g(e),ie(u,o),E&&E.d(o)}}}function Se(l,e,t){let{$$slots:n={},$$scope:s}=e,{results:i=Z(p)}=e,{workingResults:a=Z(p,i)}=e,{formattedResults:r=X(p,a,z)}=e;const _=[[]],k=(h,j)=>{j.preventDefault(),t(0,a[h]=Re(p[h].type),a)},d=(h,j)=>{t(0,a[h]=j.target.value,a)},y=(h,j)=>{t(0,a[h]=j.target.value,a)},v=(h,j)=>{t(0,a[h]=j.target.value,a)};function f(h){a[h]=this.__value,t(0,a)}function u(h,j){a[h]=ye(_[0][j],this.__value,this.checked),t(0,a)}return l.$$set=h=>{"results"in h&&t(2,i=h.results),"workingResults"in h&&t(0,a=h.workingResults),"formattedResults"in h&&t(1,r=h.formattedResults),"$$scope"in h&&t(3,s=h.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&t(0,a=Z(p,a)),l.$$.dirty&1&&t(1,r=X(p,a,z))},[a,r,i,s,n,k,d,y,v,f,_,u]}class He extends Y{constructor(e){super();G(this,e,Se,Me,J,{results:2,workingResults:0,formattedResults:1})}}export{He as C};
