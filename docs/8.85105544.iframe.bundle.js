(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{944:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__.r(__webpack_exports__);var FOCUSABLE_ELEMENTS,Modal,activeModal,validateModalPresence,validateArgs,MicroModal=(FOCUSABLE_ELEMENTS=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],Modal=function(){function Modal(_ref){var targetModal=_ref.targetModal,_ref$triggers=_ref.triggers,triggers=void 0===_ref$triggers?[]:_ref$triggers,_ref$onShow=_ref.onShow,onShow=void 0===_ref$onShow?function(){}:_ref$onShow,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){}:_ref$onClose,_ref$openTrigger=_ref.openTrigger,openTrigger=void 0===_ref$openTrigger?"data-micromodal-trigger":_ref$openTrigger,_ref$closeTrigger=_ref.closeTrigger,closeTrigger=void 0===_ref$closeTrigger?"data-micromodal-close":_ref$closeTrigger,_ref$openClass=_ref.openClass,openClass=void 0===_ref$openClass?"is-open":_ref$openClass,_ref$disableScroll=_ref.disableScroll,disableScroll=void 0!==_ref$disableScroll&&_ref$disableScroll,_ref$disableFocus=_ref.disableFocus,disableFocus=void 0!==_ref$disableFocus&&_ref$disableFocus,_ref$awaitCloseAnimat=_ref.awaitCloseAnimation,awaitCloseAnimation=void 0!==_ref$awaitCloseAnimat&&_ref$awaitCloseAnimat,_ref$awaitOpenAnimati=_ref.awaitOpenAnimation,awaitOpenAnimation=void 0!==_ref$awaitOpenAnimati&&_ref$awaitOpenAnimati,_ref$debugMode=_ref.debugMode,debugMode=void 0!==_ref$debugMode&&_ref$debugMode;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Modal),this.modal=document.getElementById(targetModal),this.config={debugMode:debugMode,disableScroll:disableScroll,openTrigger:openTrigger,closeTrigger:closeTrigger,openClass:openClass,onShow:onShow,onClose:onClose,awaitCloseAnimation:awaitCloseAnimation,awaitOpenAnimation:awaitOpenAnimation,disableFocus:disableFocus},triggers.length>0&&this.registerTriggers.apply(this,_toConsumableArray(triggers)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Modal,[{key:"registerTriggers",value:function registerTriggers(){for(var _this=this,_len=arguments.length,triggers=new Array(_len),_key=0;_key<_len;_key++)triggers[_key]=arguments[_key];triggers.filter(Boolean).forEach((function(trigger){trigger.addEventListener("click",(function(event){return _this.showModal(event)}))}))}},{key:"showModal",value:function showModal(){var _this2=this,event=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var handler=function handler(){_this2.modal.removeEventListener("animationend",handler,!1),_this2.setFocusToFirstNode()};this.modal.addEventListener("animationend",handler,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,event)}},{key:"closeModal",value:function closeModal(){var event=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,modal=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,event),this.config.awaitCloseAnimation){var openClass=this.config.openClass;this.modal.addEventListener("animationend",(function handler(){modal.classList.remove(openClass),modal.removeEventListener("animationend",handler,!1)}),!1)}else modal.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function closeModalById(targetModal){this.modal=document.getElementById(targetModal),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function scrollBehaviour(toggle){if(this.config.disableScroll){var body=document.querySelector("body");switch(toggle){case"enable":Object.assign(body.style,{overflow:""});break;case"disable":Object.assign(body.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function addEventListeners(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function removeEventListeners(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function onClick(event){event.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(event)}},{key:"onKeydown",value:function onKeydown(event){27===event.keyCode&&this.closeModal(event),9===event.keyCode&&this.retainFocus(event)}},{key:"getFocusableNodes",value:function getFocusableNodes(){var nodes=this.modal.querySelectorAll(FOCUSABLE_ELEMENTS);return Array.apply(void 0,_toConsumableArray(nodes))}},{key:"setFocusToFirstNode",value:function setFocusToFirstNode(){var _this3=this;if(!this.config.disableFocus){var focusableNodes=this.getFocusableNodes();if(0!==focusableNodes.length){var nodesWhichAreNotCloseTargets=focusableNodes.filter((function(node){return!node.hasAttribute(_this3.config.closeTrigger)}));nodesWhichAreNotCloseTargets.length>0&&nodesWhichAreNotCloseTargets[0].focus(),0===nodesWhichAreNotCloseTargets.length&&focusableNodes[0].focus()}}}},{key:"retainFocus",value:function retainFocus(event){var focusableNodes=this.getFocusableNodes();if(0!==focusableNodes.length)if(focusableNodes=focusableNodes.filter((function(node){return null!==node.offsetParent})),this.modal.contains(document.activeElement)){var focusedItemIndex=focusableNodes.indexOf(document.activeElement);event.shiftKey&&0===focusedItemIndex&&(focusableNodes[focusableNodes.length-1].focus(),event.preventDefault()),!event.shiftKey&&focusableNodes.length>0&&focusedItemIndex===focusableNodes.length-1&&(focusableNodes[0].focus(),event.preventDefault())}else focusableNodes[0].focus()}}]),Modal}(),activeModal=null,validateModalPresence=function validateModalPresence(id){if(!document.getElementById(id))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(id,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(id,'"></div>')),!1},validateArgs=function validateArgs(triggers,triggerMap){if(function validateTriggerPresence(triggers){triggers.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(triggers),!triggerMap)return!0;for(var id in triggerMap)validateModalPresence(id);return!0},{init:function init(config){var options=Object.assign({},{openTrigger:"data-micromodal-trigger"},config),triggers=_toConsumableArray(document.querySelectorAll("[".concat(options.openTrigger,"]"))),triggerMap=function generateTriggerMap(triggers,triggerAttr){var triggerMap=[];return triggers.forEach((function(trigger){var targetModal=trigger.attributes[triggerAttr].value;void 0===triggerMap[targetModal]&&(triggerMap[targetModal]=[]),triggerMap[targetModal].push(trigger)})),triggerMap}(triggers,options.openTrigger);if(!0!==options.debugMode||!1!==validateArgs(triggers,triggerMap))for(var key in triggerMap){var value=triggerMap[key];options.targetModal=key,options.triggers=_toConsumableArray(value),activeModal=new Modal(options)}},show:function show(targetModal,config){var options=config||{};options.targetModal=targetModal,!0===options.debugMode&&!1===validateModalPresence(targetModal)||(activeModal&&activeModal.removeEventListeners(),(activeModal=new Modal(options)).showModal())},close:function close(targetModal){targetModal?activeModal.closeModalById(targetModal):activeModal.closeModal()}});window.MicroModal=MicroModal,__webpack_exports__.default=MicroModal}}]);